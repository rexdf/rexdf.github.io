
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
<script type="text/javascript">var _speedMark=new Date</script>
<meta charset="utf-8">
<title>Flash Mob - Rexdf</title>
<meta name="author" content="Rexdf">
<meta name="description" content="Description Jumping Jack is in charge of organizing a ash mob. The members of the ash mob move around town all day and part of the appeal of this &hellip;">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval' data: https://hm.baidu.com https://tajs.qq.com https://ssl.google-analytics.com https://static.rexdf.org https://*.disquscdn.com https://rexdf.disqus.com https://api.github.com https://ssl.google-analytics.com https://disqus.com https://analytics.rexdf.net; connect-src 'self' https://static.rexdf.org https://analytics.rexdf.net https://hm.baidu.com; img-src data: https://*; font-src data: https://*; child-src 'none'; style-src 'self' 'unsafe-inline' https://*; frame-src 'self' https://t.rexdf.org http://t.rexdf.org https://rexdf.disqus.com https://disqus.com">
<link rel="canonical" href="https://i.rexdf.org/blog/2013/03/25/Flash-Mob">
<link rel="dns-prefetch" href="https://static.rexdf.org/">
<link href="/favicon.ico" rel="icon">
<link id="main-css" href="/stylesheets/screen.css" media="screen,projection" rel="stylesheet" type="text/css" title="pc">
<link href="/stylesheets/screen_mobile.css" rel="alternate stylesheet" type="text/css" title="mobile">
<link href="/atom.xml" rel="alternate" title="Rexdf" type="application/atom+xml">
<script src="/javascripts/libs/jquery.min.js"></script>
<script src="/javascripts/octopress-rexdf.min.js" type="text/javascript"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true,
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
  });
  MathJax.Hub.Queue(function() {
      var all = MathJax.Hub.getAllJax(), i;
      for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
      }
      
      toggle_theme();
  });
</script>
<script type="text/javascript" async src="https://static.rexdf.org/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML"></script>
<script type="text/javascript">var _gaq=_gaq||[];_gaq.push(["_setAccount","UA-55590409-1"]),_gaq.push(["_trackPageview"]),function(){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}()</script>
<script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="//hm.baidu.com/hm.js?32192d95b89fbefa0875c4c95adb1412";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script>
<script src="/javascripts/fancybox/jquery.fancybox.pack.js"></script>
<link rel="stylesheet" type="text/css" href="/javascripts/fancybox/jquery.fancybox.css">
<script type="text/javascript">var _paq=_paq||[];_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"]),function(){var e="https://analytics.rexdf.net/";_paq.push(["setTrackerUrl",e+"piwik.php"]),_paq.push(["setSiteId","1"]);var a=document,t=a.createElement("script"),p=a.getElementsByTagName("script")[0];t.type="text/javascript",t.async=!0,t.defer=!0,t.src=e+"piwik.js",p.parentNode.insertBefore(t,p)}()</script>
</head>
<body class="low-contrast-linen-wptouch-bg">
<header role="banner"><hgroup>
<h1 id="header-title"><a href="/">Rexdf</a></h1>
<h2 id="subtitle">The devil is in the Details.</h2>
</hgroup>
</header>
<nav role="navigation"><ul class="subscription" data-subscription="rss">
<li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
</ul>
<form action="https://google.com/search" method="get">
<fieldset role="search">
<input type="hidden" name="q" value="site:i.rexdf.org">
<input class="search" type="text" name="q" results="0" placeholder="Search">
</fieldset>
</form>
<ul class="main-navigation">
<li><a href="/">Blog</a></li>
<li><a href="/blog/archives/">Archives</a></li>
<li><a href="/idea/">Idea</a></li>
<li><a href="/share/">Share</a></li>
<li><a href="/books/">Books</a></li>
<li><a href="/donate/">Donate</a></li>
<li><a target="_blank" href="https://blog.rexdf.org" style="font-family:Shadows Into Light">Main-Blog</a></li>
</ul>
</nav>
<div id="main">
<div id="content">
<div>
<article class="hentry" role="article">
<header>
<h1 class="entry-title">Flash Mob</h1>
<p class="meta">
<time class="data-article month-03 season-spring" datetime="2013-03-25T13:25:00+08:00" pubdate><span class="month">Mar</span> <span class="day">25th</span> <span class="year">2013</span></time>
| <a href="#disqus_thread" data-disqus-identifier="https://i.rexdf.org">Comments</a>
</p>
</header>
<div class="entry-content"><p>Description Jumping Jack is in charge of organizing a ash mob. The members of the ash mob move around town all day and part of the appeal of this group is they come together to do their thing whenever the mood strikes Jack. When the mood does strike, Jack sends a text message to the members to meet at a particular intersection in town in exactly one hour. The streets of the town run only north-south or east-west and are evenly spaced, forming a perfect grid like a sheet of graph paper. Due to the spontaneity, Jack wants to minimize the inconvenience and so picks an intersection to minimize the total distance traveled by the ash mob’s members. Fortunately Jack has the locations of all the members via the GPS on their cell phones. Your job is to second the meeting location given all the members’ locations. Each intersection will be given by a pair of non-negative integers; the first coordinate is the east-west street and the second coordinate is the north-south street. The location of each ash mob member will be an intersection. Members can travel only north-south or east-west between intersections. For example, suppose there are 5 mob members at locations (3;4);(0;5);(1;1);(5;5), and (5;5). Then if Jack summons them all to location (3;5), the total number of blocks traveled by the mob members would be 14. Jack could do no better { but sometimes the ‘best’ location may not be unique</p>
<h2 id="input">Input</h2>
<p>Input for each test case will be a series of integers on one or more lines. The first integer, n (1 &lt;= n &lt;= 1000), indicates the number of mob members. There follow n pairs of integers indicating the location (intersection) of each member. The location coordinates are both between 0 and 10^6, inclusive. More than one member may be at the same intersection. A line containing 0 will follow the last test case.</p>
<h2 id="output">Output</h2>
<p>Output one line for each test case in the format given below. The ordered pair is the coordinates of the location in the city where the total distance traveled (in blocks) is minimal. If there is more than one such location, output the one with the smallest first coordinate. If there is more than one ‘best’ location with the smallest first coordinate, output the one of those with the smallest second coordinate. The total number of blocks traveled by all the mob members follows the location.</p>
<h2 id="sample-input">Sample Input</h2>
<p>5 3 4 0 5 1 1 5 5 5 5 4 100 2 100 2 100 2 1 20000 0</p>
<h2 id="sample-output">Sample Output</h2>
<p>Case 1: (3,5) 14 Case 2: (100,2) 20097</p>
<h2 id="source">Source</h2>
<p>2012 East Central Regional Contest</p>
<pre><code>//求平面上一点到其他点曼哈顿距离和最小
//其实只要分别考虑两维就好了
//y=|x-x1|+|x-x2|+...+|x-xn|，的最小值一定取在中位数值上(包括偶数个点，此时中间是水平线)
//但是下面的算法并不是这么求的，用的模拟退火的方法，也刷到了8ms，挺不容易的。当然上面的算法肯定是0ms了。
#include &lt;iostream&gt;
#include &lt;cstdio&gt;
#include &lt;cstdlib&gt;
#include &lt;cstring&gt;
#include &lt;algorithm&gt;
 
using namespace std;
 
int p[1005][3],n;
int px[1005],py[1005];
//int min_x,min_y,max_x,max_y;
int st_x,st_y;
int st;
int multx,multy;
const int dx[]={-1,-1,0,-1,0,1,1,1};
const int dy[]={-1,0,-1,1,1,-1,0,1};
 
inline int Abs(int x)
{
    if(x&gt;0)return x;
    return -x;
}
 
int sum(int x,int y)
{
    int ret=0;
    for(int i=0;i&lt;n;i++)
      ret+=Abs(p[i][0]-x)+Abs(p[i][1]-y);
    //cout&lt;&lt;"sum "&lt;&lt;x&lt;&lt;" "&lt;&lt;y&lt;&lt;" "&lt;&lt;ret&lt;&lt;endl;
    //cout&lt;&lt;ret&lt;&lt;endl;
    return ret;
}
 
void solve()
{
    //st_x=(min_x+max_x)/2;st_y=(min_y+max_y)/2;
    int stx,sty;
    int idx;
    st=sum(st_x,st_y);
    int st2;
    while(1)
    {
        idx=-1;
        for(int i=0;i&lt;8;i++)
        {
            stx=st_x+multx*dx[i];
            sty=st_y+multy*dy[i];
            st2=sum(stx,sty);
            if(st2&lt;st || (i&lt;3 &amp;&amp; st2==st))
            {
                st=st2;
                idx=i;
            }
        }
        if(-1==idx)
        {
            if(1==multx &amp;&amp; 1==multy)break;
            if(multx&gt;1)multx&gt;&gt;=1;
            if(multy&gt;1)multy&gt;&gt;=1;
        }
        else
        {
            st_x=st_x+multx*dx[idx];
            st_y=st_y+multy*dy[idx];
        }
        //cout&lt;&lt;idx&lt;&lt;" "&lt;&lt;st_x&lt;&lt;" "&lt;&lt;st_y&lt;&lt;" "&lt;&lt;sum(st_x,st_y)&lt;&lt;endl;
       //system("pause");
    }
}
 
int main()
{
    freopen("1796in.txt","r",stdin);
    freopen("1796_revise_out.txt","w",stdout);
    int tx,ty;
    long long sx,sy;
    int cs=0;
    while(scanf("%d",&amp;n),n)
    {
        //min_x=1e6;min_y=1e6;
        //max_x=0;max_y=0;
        sx=0;sy=0;
        for(int i=0;i&lt;n;i++)
        {
            //cin&gt;&gt;tx&gt;&gt;ty;
            scanf("%d%d",&amp;tx,&amp;ty);
            p[i][0]=tx;p[i][1]=ty;
            px[i]=tx;py[i]=ty;
            sx+=tx;
            sy+=ty;
        }
        sort(px,px+n);
        sort(py,py+n);
        multx=(px[n-1]-px[0])/2;
        multy=(py[n-1]-py[0])/2;
        if(n&amp;1)
        {
            st_x=px[n/2];
            st_y=py[n/2];
        }
        else
        {
            st_x=(px[n/2]+px[n/2+1])/2;
            st_y=(py[n/2]+py[n/2+1])/2;
        }
        solve();
        cs++;
        //cout&lt;&lt;"Case "&lt;&lt;cs&lt;&lt;": ("&lt;&lt;st_x&lt;&lt;","&lt;&lt;st_y&lt;&lt;") "&lt;&lt;st&lt;&lt;endl;
        printf("Case %d: (%d,%d) %dn",cs,st_x,st_y,st);
    }
    return 0;
}
</code></pre>
<p>Description Jumping Jack is in charge of organizing a ash mob. The members of the ash mob move around town all day and part of the appeal of this group is they come together to do their thing whenever the mood strikes Jack. When the mood does strike, Jack sends a text message to the members to meet at a particular intersection in town in exactly one hour. The streets of the town run only north-south or east-west and are evenly spaced, forming a perfect grid like a sheet of graph paper. Due to the spontaneity, Jack wants to minimize the inconvenience and so picks an intersection to minimize the total distance traveled by the ash mob’s members. Fortunately Jack has the locations of all the members via the GPS on their cell phones. Your job is to second the meeting location given all the members’ locations. Each intersection will be given by a pair of non-negative integers; the first coordinate is the east-west street and the second coordinate is the north-south street. The location of each ash mob member will be an intersection. Members can travel only north-south or east-west between intersections. For example, suppose there are 5 mob members at locations (3;4);(0;5);(1;1);(5;5), and (5;5). Then if Jack summons them all to location (3;5), the total number of blocks traveled by the mob members would be 14. Jack could do no better { but sometimes the ‘best’ location may not be unique</p>
<h2 id="input-1">Input</h2>
<p>Input for each test case will be a series of integers on one or more lines. The first integer, n (1 &lt;= n &lt;= 1000), indicates the number of mob members. There follow n pairs of integers indicating the location (intersection) of each member. The location coordinates are both between 0 and 10^6, inclusive. More than one member may be at the same intersection. A line containing 0 will follow the last test case.</p>
<h2 id="output-1">Output</h2>
<p>Output one line for each test case in the format given below. The ordered pair is the coordinates of the location in the city where the total distance traveled (in blocks) is minimal. If there is more than one such location, output the one with the smallest first coordinate. If there is more than one ‘best’ location with the smallest first coordinate, output the one of those with the smallest second coordinate. The total number of blocks traveled by all the mob members follows the location.</p>
<h2 id="sample-input-1">Sample Input</h2>
<p>5 3 4 0 5 1 1 5 5 5 5 4 100 2 100 2 100 2 1 20000 0</p>
</div>
<footer>
<p class="meta">
<span class="byline author vcard">Posted by <span class="fn">Rexdf</span></span>
<time class="data-article month-03 season-spring" datetime="2013-03-25T13:25:00+08:00" pubdate><span class="month">Mar</span> <span class="day">25th</span> <span class="year">2013</span></time>
</p>
<div class="sharing">
</div>
<p class="meta">
<a class="basic-alignment left" href="/blog/2013/03/23/Codeforces-176-A/" title="Previous Post: Codeforces 176 A">&laquo; Codeforces 176 A</a>
<a class="basic-alignment right" href="/blog/2013/04/03/Codeforces-177-E/" title="Next Post: Codeforces 177 E">Codeforces 177 E &raquo;</a>
</p>
</footer>
</article>
<section>
<h1>Comments</h1>
<div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
</section>
</div>
<aside class="sidebar">
<section>
<h1>Categories</h1>
<ul id="categories">
<li class="category"><a href="/blog/categories/acm/">ACM <sup>2</sup></a></li>
<li class="category"><a href="/blog/categories/algorithm/">Algorithm <sup>2</sup></a></li>
<li class="category"><a href="/blog/categories/assembly/">Assembly <sup>1</sup></a></li>
<li class="category"><a href="/blog/categories/cygwin/">Cygwin <sup>3</sup></a></li>
<li class="category"><a href="/blog/categories/gnu/">GNU <sup>8</sup></a></li>
<li class="category"><a href="/blog/categories/math/">Math <sup>1</sup></a></li>
<li class="category"><a href="/blog/categories/octopress/">Octopress <sup>5</sup></a></li>
<li class="category"><a href="/blog/categories/programming/">Programming <sup>6</sup></a></li>
<li class="category"><a href="/blog/categories/security/">Security <sup>1</sup></a></li>
<li class="category"><a href="/blog/categories/sublime/">Sublime <sup>1</sup></a></li>
<li class="category"><a href="/blog/categories/synology/">Synology <sup>1</sup></a></li>
<li class="category"><a href="/blog/categories/sysadmin/">SysAdmin <sup>5</sup></a></li>
<li class="category"><a href="/blog/categories/web/">Web <sup>3</sup></a></li>
<li class="category"><a href="/blog/categories/windows/">Windows <sup>7</sup></a></li>
<li class="category"><a href="/blog/categories/proxmox/">proxmox <sup>1</sup></a></li>
<li class="category"><a href="/blog/categories/ri-chang/">日常 <sup>37</sup></a></li>
</ul>
</section>
<section>
<h1>Recent Posts</h1>
<ul id="recent_posts">
<li class="post">
<a href="/blog/2024/12/16/fu-wu-qi-wa-kuang-bing-du-de-cha-sha/">服务器挖矿病毒的查杀</a>
</li>
<li class="post">
<a href="/blog/2021/07/11/apple-m1-bian-yi-tensorflow/">Apple M1 编译tensorflow</a>
</li>
<li class="post">
<a href="/blog/2021/02/27/chromiumbian-ma-qi-wen-ti/">Chromium编码器问题</a>
</li>
<li class="post">
<a href="/blog/2020/12/13/proxmoxbi-ji/">Proxmox笔记</a>
</li>
<li class="post">
<a href="/blog/2020/11/15/lun-yan-du-yu-shen-du/">论广度与深度</a>
</li>
</ul>
</section>
<section>
<iframe frameborder="0" scrolling="no" referrerpolicy="unsafe-url" style="width:283px;height:200px" src="https://t.rexdf.org/?m=app&a=showwidget&name=rexdf&type=1&width=283px&height=500px"></iframe>
</section>
<section>
<h1>GitHub Repos</h1>
<ul id="gh_repos">
<li class="loading">Status updating...</li>
</ul>
<a href="https://github.com/rexdf">@rexdf</a> on GitHub
<script type="text/javascript">$(document).ready(function(){if(!window.jXHR){var e=document.createElement("script");e.type="text/javascript",e.src="/javascripts/libs/jXHR.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}github.showRepos({user:"rexdf",count:0,skip_forks:!0,target:"#gh_repos"})})</script>
</section>
</aside>
</div>
</div>
<footer role="contentinfo"><p>
<span class="credit">Copyright &copy; 2024 - Rexdf -</span> |
<span class="credit">Powered by <a name="bottoms" target="_blank" href="http://octopress.org">Octopress</a></span> |
<span class="credit">Theme by ：<a href="https://blog.rexdf.org/" target="_blank" rel="theme">Rexdf</a></span> |
<span class="credit">Host by：<a href="https://github.com/" target="_blank" rel="host">Github.com</a></span> |
<span class="credit">版权声明：<a href="http://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="license">CC BY-NC-SA 3.0</a><img src="https://analytics.rexdf.net/piwik.php?idsite=1&amp;rec=1" style="border:0" alt="" referrerpolicy="no-referrer-when-downgrade"></span>|
<span class="credit"><a href="/sitemap.xml" rel="sitemap">sitemap</a></span>
</p>
<script type="text/javascript" src="https://tajs.qq.com/stats?sId=30296377" charset="UTF-8"></script>
</footer>
<script type="text/javascript">var disqus_shortname="rexdf",disqus_identifier="https://i.rexdf.org/blog/2013/03/25/Flash-Mob/",disqus_url="https://i.rexdf.org/blog/2013/03/25/Flash-Mob/",disqus_script="embed.js";!function(){var s=document.createElement("script");s.type="text/javascript",s.async=!0,s.src="//"+disqus_shortname+".disqus.com/"+disqus_script,(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(s)}()</script>
<script type="text/javascript">$(function(){$(".entry-content").each(function(t){var r=t;$(this).find("img.fancybox").each(function(){var t=$(this),a=t.attr("title"),n=t.attr("class");t.removeAttr("class"),t.wrap('<a href="'+this.src+'" class="'+n+'" rel="gallery'+r+'" />'),""!=a&&t.parent().attr("title",a)})}),$(".fancybox").fancybox()})</script>
</body>
</html>
